(function(){this.rockauth=function(){function t(){}return riot.observable(t),t.data=rocketmade.data,t.url=function(t){return t&&this.data.set("rockauth:url",t.replace(/\/$/,"")),this.data.get("rockauth:url")},t.client_id=function(t){return t&&this.data.set("rockauth:client_id",t),this.data.get("rockauth:client_id")},t.client_secret=function(t){return t&&this.data.set("rockauth:client_secret",t),this.data.get("rockauth:client_secret")},t.token=function(t){return t&&this.data.set("rockauth:token",t),this.data.get("rockauth:token")},t.user=function(t){return t&&this.data.set("rockauth:user",t),this.data.get("rockauth:user")},t.session=function(t){return t&&(this.user(t.user),this.token(t.token),this.data.set("rockauth:session",t)),this.data.get("rockauth:session")},t.authenticate_with_password=function(t){return null==t&&(t={}),new Promise(function(n){return function(e,r){return rocketmade.http.post(n.url()+"/authentications.json",{authentication:{auth_type:"password",client_id:n.client_id(),client_secret:n.client_secret(),username:t.email,password:t.password}}).then(function(t){return e(t.authentication)})["catch"](function(t){return r({email:"Invalid credentials."})})}}(this))},t}()}).call(this),riot.tag2("rockauth-login",'<rocketmade-login name="{name}"></rocketmade-login>',"","",function(t){(function(){this.name=this.opts.name||"rockauth:login",rocketmade.on(this.name+":submit",function(t){return function(n){return rockauth.authenticate_with_password(n).then(function(n){return rockauth.trigger(t.name+":pass",n)})["catch"](function(n){return rockauth.trigger(t.name+":fail",n)})}}(this)),rockauth.on(this.name+":pass",function(t){return rockauth.session(t)}),rockauth.on(this.name+":fail",function(t){return function(n){return rocketmade.trigger(t.name+":errors",n)}}(this))}).call(this)},"{ }"),riot.tag2("rockauth-test","<rocketmade-app> <rockauth-login></rockauth-login> </rocketmade-app>","","",function(t){(function(){rockauth.url("http://localhost:3011/api"),rockauth.client_id("jkmCq3jukIA16uQyAUVWkA"),rockauth.client_secret("rKrbQSqUWgWyMRXN2PJQeHDP0E3KzRJRAasKSoI2Yvw")}).call(this)});